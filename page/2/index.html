<!DOCTYPE html>













<html class="theme-next pisces" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="佳的个人博客">
<meta property="og:url" content="https://LiuPjia.github.io/page/2/index.html">
<meta property="og:site_name" content="佳的个人博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="佳的个人博客">





  
  
  <link rel="canonical" href="https://LiuPjia.github.io/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>佳的个人博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">佳的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/11/01/文件打包与解压缩/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/11/01/文件打包与解压缩/" class="post-title-link" itemprop="url">文件打包与解压缩</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-11-01 11:12:57 / 修改时间：14:35:36" itemprop="dateCreated datePublished" datetime="2019-11-01T11:12:57+08:00">2019-11-01</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux基础入门/" itemprop="url" rel="index"><span itemprop="name">Linux基础入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="zip命令"><a href="#zip命令" class="headerlink" title="zip命令"></a><strong>zip命令</strong></h1><h2 id="zip压缩打包程序"><a href="#zip压缩打包程序" class="headerlink" title="zip压缩打包程序"></a><strong>zip压缩打包程序</strong></h2><ul>
<li><strong>使用zip打包文件夹</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/shiyanlou</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> zip -r -q -o shiyanlou.zip /home/shiyanlou/Desktop <span class="comment">#将文件打包</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -h shiyanlou.zip  <span class="comment">#查看文件大小</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> file shiyanlou.zip  <span class="comment">#查看文件属性</span></span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>上面命令将目录 /home/shiyanlou/Desktop 打包成一个文件，并查看了打包后文件的大小和类型。第一行命令中，<font color="red">-r</font> 参数表示递归打包包含子目录的全部内容，<font color="red">-q</font> 参数表示为安静模式，即不向屏幕输出信息，<font color="red">-o</font>，表示输出文件，需在其后紧跟打包输出文件名。后面使用 du 命令查看打包后文件的大小</p>
<ul>
<li><strong>创建加密</strong><br>使用 <font color="red">-e</font> 参数可以创建加密压缩包：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> zip -r -e -o shiyanlou_encryption.zip /home/shiyanlou/Desktop</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>注意：</strong> 由于windowns和linux存在一些兼容问题，想让你在 Linux 创建的 zip 压缩文件在 Windows 上解压后没有任何问题，那么你还需要对命令做一些修改：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> zip -r -l -o shiyanlou.zip /home/shiyanlou/Desktop</span></span><br></pre></td></tr></table></figure>

<h2 id="使用-unzip-命令解压缩-zip-文件"><a href="#使用-unzip-命令解压缩-zip-文件" class="headerlink" title="使用 unzip 命令解压缩 zip 文件"></a><strong>使用 unzip 命令解压缩 zip 文件</strong></h2><p>将 shiyanlou.zip 解压到当前目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> unzip shiyanlou.zip</span></span><br></pre></td></tr></table></figure>

<p>使用安静模式，将文件解压到指定目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> unzip -q shiyanlou.zip -d ziptest</span></span><br></pre></td></tr></table></figure>

<p>上述指定目录不存在，将会自动创建。如果你不想解压只想查看压缩包的内容你可以使用 -l 参数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> unzip -l shiyanlou.zip</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> 使用 unzip 解压文件时我们同样应该注意兼容问题，不过这里我们关心的不再是上面的问题，而是中文编码的问题，通常 Windows 系统上面创建的压缩文件，如果有有包含中文的文档或以中文作为文件名的文件时默认会采用 GBK 或其它编码，而 Linux 上面默认使用的是 UTF-8 编码， 为了解决这个问题，我们可以在解压时指定编码类型。</p>
<p>使用 -O（英文字母，大写 o）参数指定编码类型：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip -O GBK 中文压缩文件.zip</span><br></pre></td></tr></table></figure>

<h1 id="tar打包工具"><a href="#tar打包工具" class="headerlink" title="tar打包工具"></a><strong>tar打包工具</strong></h1><p>tar 原本只是一个打包工具，只是同时还是实现了对 7z、gzip、xz、bzip2 等工具的支持，这些压缩工具本身只能实现对文件或目录（单独压缩目录中的文件）的压缩，tar的解压和压缩都是同一个命令。</p>
<h2 id="面先掌握-tar-命令一些基本的使用方式，即不进行压缩只是进行打包（创建归档文件）和解包的操作。"><a href="#面先掌握-tar-命令一些基本的使用方式，即不进行压缩只是进行打包（创建归档文件）和解包的操作。" class="headerlink" title="面先掌握 tar 命令一些基本的使用方式，即不进行压缩只是进行打包（创建归档文件）和解包的操作。"></a><strong>面先掌握 <font color="red">tar</font> 命令一些基本的使用方式，即不进行压缩只是进行打包（创建归档文件）和解包的操作。</strong></h2><ul>
<li>创建一个tar包：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/shiyanlou</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar -cf shiyanlou.tar /home/shiyanlou/Desktop</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>上面命令中，<font color="red">-c</font> 表示创建一个 tar 包文件，<font color="red">-f</font> 用于指定创建的文件名，注意文件名必须紧跟在 <font color="red">-f</font> 参数之后，比如不能写成 <font color="red">tar -fc shiyanlou.tar</font>，上面会自动去掉表示绝对路径的 <font color="red">/</font>，你也可以使用 <font color="red">-P</font> 保留绝对路径符。</p>
<ul>
<li><p>解包一个文件（-x 参数）到指定路径的已存在目录（-C 参数）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir tardir</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar -xf shiyanlou.tar -C tardir</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>只查看不解包文件 -t 参数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -tf shiyanlou.tar</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="对于创建不同的压缩格式的文件，对于-tar-来说是相当简单的，需要的只是换一个参数-以使用-gzip-工具创建-tar-gz-文件为例"><a href="#对于创建不同的压缩格式的文件，对于-tar-来说是相当简单的，需要的只是换一个参数-以使用-gzip-工具创建-tar-gz-文件为例" class="headerlink" title="对于创建不同的压缩格式的文件，对于 tar 来说是相当简单的，需要的只是换一个参数,以使用 gzip 工具创建 *.tar.gz 文件为例"></a><strong>对于创建不同的压缩格式的文件，对于 tar 来说是相当简单的，需要的只是换一个参数,以使用 gzip 工具创建 *.tar.gz 文件为例</strong></h2><ul>
<li><p>我们只需要在创建 <font color="red">tar</font> 文件的基础上添加 <font color="red">-z</font> 参数，使用 <font color="red">gzip</font> 来压缩文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -czf shiyanlou.tar.gz /home/shiyanlou/Desktop</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解压 <font color="red">*.tar.gz</font> 文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -xzf shiyanlou.tar.gz</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>现在我们要使用其它的压缩工具创建或解压相应文件只需要更改一个参数即可：</p>
<table>
<thead>
<tr>
<th><strong>压缩文件格式</strong></th>
<th><strong>参数</strong></th>
</tr>
</thead>
<tbody><tr>
<td><font color="red">*.tar.gz</font></td>
<td><font color="red">-z</font></td>
</tr>
<tr>
<td><font color="red">*.tar.xz</font></td>
<td><font color="red">-J</font></td>
</tr>
<tr>
<td><font color="red">*tar.bz2</font></td>
<td><font color="red">-j</font></td>
</tr>
</tbody></table>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h1><p>只需要记住常用的组合就可以了。 常用命令：</p>
<ul>
<li>zip：</li>
</ul>
<ol>
<li>打包 ：zip something.zip something （目录请加 -r 参数）</li>
<li>解包：unzip something.zip</li>
<li><strong>指定路径：-d 参数</strong></li>
</ol>
<ul>
<li>tar：</li>
</ul>
<ol>
<li>打包：tar -cf something.tar something</li>
<li>解包：tar -xf something.tar</li>
<li><strong>指定路径：-C 参数</strong></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/31/环境变量与查找/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/31/环境变量与查找/" class="post-title-link" itemprop="url">环境变量与文件查找</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-31 18:28:58 / 修改时间：20:57:58" itemprop="dateCreated datePublished" datetime="2019-10-31T18:28:58+08:00">2019-10-31</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux基础入门/" itemprop="url" rel="index"><span itemprop="name">Linux基础入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a><strong>环境变量</strong></h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a><strong>变量</strong></h2><p>准确的说应该是 Shell 变量，有<strong>作用域</strong>限定。<br>我们可以使用declare创建变量，也可以即用即创建。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> tmp <span class="comment">#声明tmp变量</span></span><br><span class="line">tmp=shiyanlou <span class="comment">#直接定义tmp变量的值为shiyanlou</span></span><br></pre></td></tr></table></figure>

<p>使用echo命令和$（表示引用）符号读取变量的值</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$tmp</span></span><br></pre></td></tr></table></figure>

<h2 id="什么是环境变量"><a href="#什么是环境变量" class="headerlink" title="什么是环境变量"></a><strong>什么是环境变量</strong></h2><p>通常我们会涉及到的变量类型有三种：</p>
<ul>
<li><p>当前 Shell 进程私有用户自定义变量，如上面我们创建的 tmp 变量，只在当前 Shell 中有效。</p>
</li>
<li><p>Shell 本身内建的变量。</p>
</li>
<li><p>从自定义变量导出的环境变量。</p>
<p>而关于环境变量可以简单的理解为可以在当前进程的子进程有效称为环境变量，比如我们刚刚创建的tmp变量，它只在当前的shell中有效，其他进程不能访问调用它，那么它只是属于私有用户的自定义变量，不是环境变量，而我们使用export tmp，将变量导出后，我们新建一个shell，使用echo访问它，可以访问，所以就变成了环境变量，因此有些人也将所有变量统称为环境变量，只是以全局环境变量和局部环境变量进行区分而已。</p>
<p>实验：在当前shell定义变量tmp，并将其导出，使用zsh新建一个shell，进行访问。<br><img src="https://doc.shiyanlou.com/document-uid735639labid60timestamp1532339293501.png/wm" alt></p>
<p><strong>注意：为了与普通变量区分，通常我们习惯将环境变量名设为大写。</strong></p>
<p>与上述三种环境变量相关的命令有：set, env, export，不加参数都是用来打印当前变量的信息，区别是涉及到的变量范围不同。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>命 令</th>
<th>说 明</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;font=red&gt;set</td>
<td>显示当前 Shell 所有变量，包括其内建环境变量（与 Shell 外观等相关），用户自定义变量及导出的环境变量。</td>
</tr>
<tr>
<td>&lt;font=red&gt;env</td>
<td>显示与当前用户相关的环境变量，还可以让命令在指定环境中运行。</td>
</tr>
<tr>
<td>&lt;font=red&gt;export</td>
<td>显示从 Shell 中导出成环境变量的变量，也能通过它将自定义变量导出为环境变量。</td>
</tr>
</tbody></table>
<h2 id="永久生效"><a href="#永久生效" class="headerlink" title="永久生效"></a><strong>永久生效</strong></h2><p>按变量的生存周期来划分，Linux 变量可分为两类：</p>
<ol>
<li><p>永久的：需要修改配置文件，变量永久生效；</p>
</li>
<li><p>临时的：使用 export 命令行声明即可，变量在关闭 shell 时失效。</p>
</li>
</ol>
<p>而我们一旦关闭shell，我们设置的环境变量也会失效，那么怎么让它永久生效呢？</p>
<p>这里介绍两个重要文件 &lt;font=red&gt;/etc/bashrc（有的 Linux 没有这个文件） 和 &lt;font=red&gt;/etc/profile ，它们分别存放的是 shell 变量和环境变量。还有要注意区别的是每个用户目录下的一个隐藏文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.profile 可以用 ls -a 查看</span><br><span class="line">cd /home/shiyanlou</span><br><span class="line">ls -a</span><br></pre></td></tr></table></figure>

<p>这个 &lt;font=red&gt;.profile 只对当前用户永久生效。而写在 &lt;font=red&gt;/etc/profile 里面的是对所有用户永久生效，所以如果想要添加一个永久生效的环境变量，只需要打开 &lt;font=red&gt;/etc/profile，在最后加上你想添加的环境变量就好啦。格式是<strong>export 变量名=变量值</strong>，如下图所示：</p>
<p><img src="http://tva1.sinaimg.cn/large/007X8olVly1g8hm3w4bmrj30eg03v3yz.jpg" alt></p>
<h2 id="命令的查找路径和顺序"><a href="#命令的查找路径和顺序" class="headerlink" title="命令的查找路径和顺序"></a><strong>命令的查找路径和顺序</strong></h2><p>Shell 中输入一个命令，Shell 是怎么知道去哪找到这个命令然后执行的呢？ </p>
<p>shell 首先检查命令是否是内部命令，不是的话再检查是否是一个应用程序，这里的应用程序可以是Linux本身的实用程序，然后shell试着在搜索路径($PATH)里寻找这些应用程序。如果你键入的命令不是一个内部命令并且在路径里没有找到这个可执行文件，将会显示一条错误信息。而如果命令被成功的找到的话，shell的内部命令或应用程序将被分解为系统调用并传给Linux内核。</p>
<p>下面我们创建脚本文件和C语言程序，用于执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建一个shell脚本文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/shiyanlou</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch hello_shell.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gedit hello_shell.sh <span class="comment">#对文件进行编辑，以下是内容</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">---------</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for ((i=0; i&lt;10; i++));do</span><br><span class="line">    echo "hello shell"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line"><span class="meta">#</span><span class="bash">--------</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod 755 hello_shell.sh <span class="comment">#为文件添加可执行权限</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">创建一个 C 语言“ hello world ”程序：</span></span><br><span class="line">gedit hello_world.c</span><br><span class="line"><span class="meta">#</span><span class="bash">-----以下是内容</span></span><br><span class="line"><span class="meta">#</span><span class="bash">include &lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    printf("hello world!\n");</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">-------</span></span><br><span class="line"><span class="meta">#</span><span class="bash">新建目录，并将可执行文件移到目录下</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir mybin</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mv hello_shell.sh hello_world mybin/</span></span><br><span class="line"><span class="meta">#</span><span class="bash">执行程序</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./hello_shell.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./hello_world</span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid735639labid60timestamp1532339433567.png/wm" alt></p>
<p>缺点显而易见，只有在当前目录（除非加上命令的完整路径），才可以使用我们的命令，如何做到像使用系统命令一样执行自己创建的脚本文件或者程序呢？那就要将命令所在路径添加到 <font color="red">PATH</font> 环境变量了。</p>
<h2 id="添加自定义路径到“-PATH-”环境变量"><a href="#添加自定义路径到“-PATH-”环境变量" class="headerlink" title="添加自定义路径到“ PATH ”环境变量"></a><strong>添加自定义路径到“ PATH ”环境变量</strong></h2><p>在前面我们应该注意到 <strong>PATH</strong> 里面的路径是以 <strong>:</strong> 作为分割符的，所以我们可以这样添加自定义路径：<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> PATH=<span class="variable">$PATH</span>:/home/shiyanlou/mybin</span></span><br></pre></td></tr></table></figure></p>
<p> 因为我给 PATH 环境变量追加了一个路径，它也只是在当前 Shell 有效，我一旦退出终端，再打开就会发现又失效了。有没有方法让添加的环境变量全局有效？或者每次启动 Shell 时自动执行上面添加自定义路径到 PATH 的命令？</p>
<h2 id="让添加的环境变量全局有效"><a href="#让添加的环境变量全局有效" class="headerlink" title="让添加的环境变量全局有效"></a><strong>让添加的环境变量全局有效</strong></h2><p> 使用前面介绍的export + /etc/profile<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/home/shiyanlou/mybin</span><br></pre></td></tr></table></figure></p>
<p> 每次添加新的环境变量时，修改/etc/profile文件就可以了。</p>
<h2 id="每次启动-Shell-时自动执行上面添加自定义路径到-PATH-的命令"><a href="#每次启动-Shell-时自动执行上面添加自定义路径到-PATH-的命令" class="headerlink" title="每次启动 Shell 时自动执行上面添加自定义路径到 PATH 的命令"></a><strong>每次启动 Shell 时自动执行上面添加自定义路径到 PATH 的命令</strong></h2><p> 在每个用户的 home 目录中有一个 Shell 每次启动时会默认执行一个配置脚本，以初始化环境，包括添加一些用户自定义环境变量等等。zsh 的配置文件是 .zshrc，相应 Bash 的配置文件为 .bashrc 。它们在 etc 下还都有一个或多个全局的配置文件，不过我们一般只修改用户目录下的配置文件。</p>
<p> 我们可以简单地使用下面命令直接添加内容到 .zshrc 中：<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"PATH=<span class="variable">$PATH</span>:/home/shiyanlou/mybin"</span> &gt;&gt; .zshrc</span></span><br></pre></td></tr></table></figure></p>
<p> <strong>上述命令中 &gt;&gt; 表示将标准输出以追加的方式重定向到一个文件中，注意前面用到的 &gt; 是以覆盖的方式重定向到一个文件中，使用的时候一定要注意分辨。在指定文件不存在的情况下都会创建新的文件。</strong> <font color="red">也因此每次添加环境变量时，都会将PATH的值写入 .zshrc，个人感觉没有添加全局好</font></p>
<h2 id="如何让环境变量立即生效"><a href="#如何让环境变量立即生效" class="headerlink" title="如何让环境变量立即生效"></a><strong>如何让环境变量立即生效</strong></h2><p> 前面我们在 Shell 中修改了一个配置脚本文件之后（比如/etc/profile 以及.zshrc），每次都要退出终端重新打开甚至重启主机之后其才能生效，很是麻烦，我们可以使用 source 命令来让其立即生效，如：</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/shiyanlou</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> .zshrc</span></span><br></pre></td></tr></table></figure>

<h1 id="搜索文件"><a href="#搜索文件" class="headerlink" title="搜索文件"></a><strong>搜索文件</strong></h1><p><a href="https://www.cnblogs.com/kex1n/p/5233821.html" target="_blank" rel="noopener">https://www.cnblogs.com/kex1n/p/5233821.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/30/Linux目录结构及文件基本操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/30/Linux目录结构及文件基本操作/" class="post-title-link" itemprop="url">Linux目录结构及文件基本操作</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-30 10:58:44" itemprop="dateCreated datePublished" datetime="2019-10-30T10:58:44+08:00">2019-10-30</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-31 21:07:18" itemprop="dateModified" datetime="2019-10-31T21:07:18+08:00">2019-10-31</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux基础入门/" itemprop="url" rel="index"><span itemprop="name">Linux基础入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Linux目录结构"><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a><strong>Linux目录结构</strong></h1><p>Linux于Windows的目录的实现机制是完全不同的。UNIX 是以目录为主的，Linux 也继承了这一优良特性。 Linux 是以树形目录结构的形式来构建整个系统的，可以理解为树形目录是一个用户可操作系统的骨架。</p>
<h2 id="FHS标准"><a href="#FHS标准" class="headerlink" title="FHS标准"></a><strong>FHS标准</strong></h2><p>大部分目录结构是规定好了的（FHS 标准）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FHS（英文：Filesystem Hierarchy Standard 中文：文件系统层次结构标准），多数 Linux 版本采用这种文件组织形式，FHS 定义了系统中每个区域的用途、所需要的最小构成的文件和目录同时还给出了例外处理与矛盾处理。</span><br></pre></td></tr></table></figure>

<p>FHS 定义了两层规范:</p>
<p>第一层是， / 下面的各个目录应该要放什么文件数据，例如 /etc 应该放置设置文件，/bin 与 /sbin 则应该放置可执行文件等等。</p>
<p>第二层则是针对 /usr 及 /var 这两个目录的子目录来定义。例如 /var/log 放置系统日志文件，/usr/share 放置共享数据等等。</p>
<p><strong>以下是FHS的规定</strong></p>
<p><img src="https://doc.shiyanlou.com/linux_base/4-1.png/wm" alt></p>
<p><strong>注意点：</strong></p>
<p>FHS 是根据以往无数 Linux 用户和开发者的经验总结出来的，并且会维持更新，FHS 依据文件系统使用的频繁与否以及是否允许用户随意改动（注意，不是不能），将目录定义为四种交互作用的形态，如下表所示：</p>
<p><img src="https://doc.shiyanlou.com/document-uid18510labid59timestamp1482919171956.png/wm" alt></p>
<h2 id="目录路径"><a href="#目录路径" class="headerlink" title="目录路径"></a><strong>目录路径</strong></h2><p>使用<font color="red">cd</font>命令可以切换目录，具体常用的参数如下：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>..</td>
<td>进入上一级目录</td>
</tr>
<tr>
<td>~</td>
<td>进入用户的home目录</td>
</tr>
<tr>
<td>-</td>
<td>上一次所在的目录</td>
</tr>
</tbody></table>
<p><strong>绝对路径：</strong> 以<font color="red"> / </font>表示根目录</p>
<p><strong>提示：在进行目录切换的过程中请多使用 <font color="red">Tab</font> 键自动补全，可避免输入错误，连续按两次<font color="red"> Tab </font>可以显示全部候选结果。</strong></p>
<h1 id="Linux文件的基本操作"><a href="#Linux文件的基本操作" class="headerlink" title="Linux文件的基本操作"></a><strong>Linux文件的基本操作</strong></h1><h2 id="新建"><a href="#新建" class="headerlink" title="新建"></a><strong>新建</strong></h2><h3 id="新建空白文件"><a href="#新建空白文件" class="headerlink" title="新建空白文件"></a><strong>新建空白文件</strong></h3><p>我们一般使用<font color="red">touch</font>命令创建空白文件，关于 touch 命令，其主要作用是来更改已有文件的时间戳的（比如，最近访问时间，最近修改时间，但是同时可以在当前目录创建文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/shiyanlou</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch <span class="built_in">test</span></span></span><br></pre></td></tr></table></figure>

<h3 id="新建目录"><a href="#新建目录" class="headerlink" title="新建目录"></a><strong>新建目录</strong></h3><p>使用 <font color="red">mkdir</font>（make directories）命令可以创建一个空目录，也可同时指定创建目录的权限属性。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir mydir</span></span><br></pre></td></tr></table></figure>

<p>使用  <font color="red">-p</font> 参数，同时创建父目录（如果不存在该父目录），如下我们同时创建一个多级目录（这在安装软件、配置安装路径时非常有用）：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p father/son/grandson <span class="comment">#也可以指定绝对路径</span></span><br></pre></td></tr></table></figure>

<h2 id="复制"><a href="#复制" class="headerlink" title="复制"></a><strong>复制</strong></h2><h3 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a><strong>复制文件</strong></h3><p>使用 <font color="red">cp</font>（copy）命令复制一个文件到指定目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp test father/son/grandson</span><br></pre></td></tr></table></figure>

<h3 id="复制目录"><a href="#复制目录" class="headerlink" title="复制目录"></a><strong>复制目录</strong></h3><p>要成功复制目录需要加上 <strong>-r</strong> 或者 <strong>-R</strong> 参数，表示递归复制，就是说有点“株连九族”的意思：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /home/shiyanlou</span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir family</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cp -r father family</span></span><br></pre></td></tr></table></figure>

<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a><strong>删除</strong></h2><h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a><strong>删除文件</strong></h3><p>使用 <strong>rm</strong> 删除一个文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm test</span><br></pre></td></tr></table></figure>

<p>如果强制删除使用 <strong>-f</strong> 参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f test</span><br></pre></td></tr></table></figure>

<h3 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a><strong>删除目录</strong></h3><p>同复制目录，使用 <strong>-r</strong> 参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm -r family</span></span><br></pre></td></tr></table></figure>

<h2 id="移动文件于文件重命名"><a href="#移动文件于文件重命名" class="headerlink" title="移动文件于文件重命名"></a><strong>移动文件于文件重命名</strong></h2><p>我们可以使用 <strong>mv</strong> 命令移动文件或对文件重命名。</p>
<p><font color="red"> mv 源目录文件 目的目录：</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir Documents</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch file1</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mv file1 Documents <span class="comment">#将file1移动到Documents目录</span></span></span><br></pre></td></tr></table></figure>

<p><font color="red"> mv 旧的文件名 新的文件名：</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mv file1 myfile <span class="comment">#将file1重命名myfile</span></span></span><br></pre></td></tr></table></figure>

<h2 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a><strong>查看文件</strong></h2><h3 id="使用-cat-tac-和-nl-命令查看文件"><a href="#使用-cat-tac-和-nl-命令查看文件" class="headerlink" title="使用 cat ,tac 和 nl 命令查看文件"></a><strong>使用 <font color="red">cat</font> ,<font color="red">tac</font> 和 <font color="red">nl </font>命令查看文件</strong></h3><p>前两个命令都是用来打印文件内容到标准输出（终端），其中 <strong>cat</strong> 为正序显示，<strong>tac</strong> 为倒序显示。</p>
<p>可以加上 <strong>-n</strong> 参数显示行号：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat -n passwd</span></span><br></pre></td></tr></table></figure>

<p><strong>nl</strong> 命令，添加行号并打印，这是个比 <strong>cat -n</strong> 更专业的行号打印命令。</p>
<p>这里简单列举它的常用的几个参数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-b : 指定添加行号的方式，主要有两种：</span><br><span class="line">    -b a:表示无论是否为空行，同样列出行号("cat -n"就是这种方式)</span><br><span class="line">    -b t:只列出非空行的编号并列出（默认为这种方式）</span><br><span class="line">-n : 设置行号的样式，主要有三种：</span><br><span class="line">    -n ln:在行号字段最左端显示，且不加 0</span><br><span class="line">    -n rn:在行号字段最右边显示，且不加 0</span><br><span class="line">    -n rz:在行号字段最右边显示，且加 0</span><br><span class="line">-w : 行号字段占用的位数(默认为 6 位)</span><br></pre></td></tr></table></figure>

<h3 id="使用-more-和-less-命令分页查看文件"><a href="#使用-more-和-less-命令分页查看文件" class="headerlink" title="使用 more 和 less 命令分页查看文件"></a><strong>使用 <font color="red">more</font> 和 <font color="red">less</font> 命令分页查看文件</strong></h3><p>如果说上面的 cat 是用来快速查看一个文件的内容的，那么这个 more 和 less 就是天生用来”阅读”一个文件的内容的</p>
<p>使用 more 命令打开 passwd 文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> more passwd</span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid735639labid59timestamp1531734202525.png/wm" alt></p>
<p>打开后默认只显示一屏内容，终端底部显示当前阅读的进度。可以使用 <font color="red">Enter</font> 键向下滚动一行，使用 <font color="red">Space</font> 键向下滚动一屏，按下 <font color="red">h </font>显示帮助，<font color="red">q </font>退出。</p>
<h3 id="使用-head-和-tail-命令查看文件"><a href="#使用-head-和-tail-命令查看文件" class="headerlink" title="使用 head 和 tail 命令查看文件"></a><strong>使用 <font color="red">head</font> 和 <font color="red">tail</font> 命令查看文件</strong></h3><p>它们一个是只查看文件的头几行（默认为 10 行，不足 10 行则显示全部）和尾几行。</p>
<p>直接的只看一行， 加上 -n 参数，后面紧跟行数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tail -n 1 /etc/passwd</span></span><br></pre></td></tr></table></figure>

<p><strong>补充：</strong> 关于 tail 命令，不得不提的还有它一个很牛的参数 <strong>-f</strong>，这个参数可以实现不停地读取某个文件的内容并显示。这可以让我们动态查看日志，达到实时监视的目的。</p>
<h2 id="查看文件类型"><a href="#查看文件类型" class="headerlink" title="查看文件类型"></a><strong>查看文件类型</strong></h2><p>在 Linux 中文件的类型不是根据文件后缀来判断的，我们通常使用 file 命令查看文件的类型：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> file /bin/ls</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/30/用户及文件权限管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/30/用户及文件权限管理/" class="post-title-link" itemprop="url">用户及文件权限管理</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-30 08:27:24 / 修改时间：18:34:51" itemprop="dateCreated datePublished" datetime="2019-10-30T08:27:24+08:00">2019-10-30</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux基础入门/" itemprop="url" rel="index"><span itemprop="name">Linux基础入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Linux用户管理"><a href="#Linux用户管理" class="headerlink" title="Linux用户管理"></a><strong>Linux用户管理</strong></h1><p>Linux 是一个可以实现多用户登录的操作系统，比如“李雷”和“韩梅梅”都可以同时登录同一台主机，他们共享一些主机的资源，但他们也分别有自己的用户空间，用于存放各自的文件。但实际上他们的文件都是放在同一个物理磁盘上的甚至同一个逻辑分区或者目录里，但是由于 Linux 的 <strong>用户管理</strong> 和 <strong>权限机制</strong>，不同用户不可以轻易地查看、修改彼此的文件。</p>
<h2 id="查看用户"><a href="#查看用户" class="headerlink" title="查看用户"></a><strong>查看用户</strong></h2><p><strong>请打开终端，输入命令：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> who am i</span></span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> who mom likes</span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid735639labid3timestamp1531731170296.png/wm" alt></p>
<table>
<thead>
<tr>
<th>打开当前终端的用户的用户名</th>
<th>伪终端及序号</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>shiyanlou</td>
<td>pts/0</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> whoami  直接打印用户名</span></span><br></pre></td></tr></table></figure>

<p><strong>who命令其他常用参数</strong><br>| 参数 | 说明                     |  |  |<br>| —- | —————————|—|–|<br>| -a   | 打印能打印的全部   |  |  |<br>| -d   | 打印死掉的进程      |  |  |<br>| -m   | 同am i,mom likes          |  |  |<br>| -q   | 打印当前登录用户数及用户名 |  |  |<br>| -u   | 打印当前登录用户登录信息 |  |  |<br>| -r   | 打印运行等级         |  |  |<br>|      |                            |  |  |</p>
<h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a><strong>创建用户</strong></h2><p>要创建用户需要 root 权限，这里就要用到 sudo 这个命令了。不过使用这个命令有两个大前提:</p>
<ol>
<li>你要知道当前登录用户的密码。</li>
<li>当前用户必须在 sudo 用户组。</li>
</ol>
<p><strong>su，sudo 与 su-</strong></p>
<ul>
<li>su <user> 可以切换到用户 user，执行时需要输入目标用户的密码。</user></li>
<li>sudo <cmd> 可以以特权级别运行 cmd 命令，需要当前用户属于 sudo 组，且需要输入当前用户的密码。</cmd></li>
<li>su -<user> 命令也是切换用户，同时环境变量也会跟着改变成目标用户的环境变量。</user></li>
</ul>
<p><strong>更换用户名密码</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo passwd shiyanlou</span></span><br></pre></td></tr></table></figure>

<p><strong>创建新用户</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo adduser lilei</span></span><br></pre></td></tr></table></figure>

<p>这个命令不但可以添加用户到系统，同时也会默认为新用户创建 home 目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls /home</span></span><br></pre></td></tr></table></figure>

<p><strong>更换用户</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> su -l lilei</span></span><br></pre></td></tr></table></figure>

<h2 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a><strong>用户组</strong></h2><p>在 Linux 里面每个用户都有一个归属（用户组），用户组简单地理解就是一组用户的集合，它们共享一些资源和权限，同时拥有私有资源，当然一个用户是可以属于多个用户组的。<br><strong>查看用户属于哪些用户组</strong></p>
<ol>
<li><strong>使用 groups 命令</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> groups shiyanlou</span></span><br><span class="line">用户名 : 用户组</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><img src="https://doc.shiyanlou.com/document-uid13labid3timestamp1454035714557.png/wm" alt></p>
<p>每次新建用户如果不指定用户组的话，默认会自动创建一个与用户名相同的用户组,默认情况下在 sudo 用户组里的可以使用 sudo 命令获得 root 权限。</p>
<ol start="2">
<li><strong>查看 <font color="red">/etc/group</font> 文件</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/group | sort</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>这里 cat 命令用于读取指定文件的内容并打印到终端输出，后面会详细讲它的使用。 | sort 表示将读取的文本进行一个字典排序再输出。<br><img src="https://doc.shiyanlou.com/document-uid735639labid3timestamp1531731335264.png/wm" alt="可以看到所有的用户名的用户组"></p>
<p>也可使用指令过滤</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/group | grep -E <span class="string">"shiyanlou"</span></span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid13labid3timestamp1454035698068.png/wm" alt></p>
<p><strong><font color="red">/etc/group</font> 文件格式说明</strong></p>
<p>/etc/group 的内容包括用户组（Group）、用户组口令（不可见为X）、GID 及该用户组所包含的用户（User），每个用户组一条记录。格式如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group_name:password:GID:user_list</span><br></pre></td></tr></table></figure>

<p>如果用户的 GID 等于用户组的 GID，那么最后一个字段 user_list 就是空的，比如 shiyanlou 用户，在 /etc/group 中的 shiyanlou 用户组后面是不会显示的。</p>
<p><strong>将其他用户加入sudo用户组</strong></p>
<p>默认情况下新创建的用户是不具有 root 权限的，也不在 sudo 用户组，可以让其加入 sudo 用户组从而获取 root 权限，从而可以使用sudo命令，比如刚刚我们新建了一个新用户lilei，不属于sudo用户组，当切换用户，执行以下命令时，会没有权限：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> su -l lilei</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo ls</span></span><br></pre></td></tr></table></figure>

<p>所以需要将lilei用户添加到sudo组中，使用<strong>usermod命令</strong>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> su shiyanlou <span class="comment"># 此处需要输入 shiyanlou 用户密码，shiyanlou 的密码可以通过 `sudo passwd shiyanlou` 进行设置。</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> groups lilei</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo usermod -G sudo lilei</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> groups lile</span></span><br></pre></td></tr></table></figure>

<p><strong>删除用户</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo deluser lilei --remove-home</span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid735639labid3timestamp1531731417990.png/wm" alt></p>
<h1 id="Linux文件权限"><a href="#Linux文件权限" class="headerlink" title="Linux文件权限"></a><strong>Linux文件权限</strong></h1><p>文件权限就是文件的访问控制权限，即哪些用户和组群可以访问文件以及可以执行什么样的操作。</p>
<p>Unix/Linux系统是一个典型的多用户系统，不同的用户处于不同的地位，对文件和目录有不同的访问权限。为了保护系统的安全性，Unix/Linux系统除了对用户权限作了严格的界定外，还在用户身份认证、访问控制、传输安全、文件读写权限等方面作了周密的控制。</p>
<p>在 Unix/Linux中的每一个文件或目录都包含有访问权限，这些访问权限决定了谁能访问和如何访问这些文件和目录。</p>
<h2 id="查看文件权限"><a href="#查看文件权限" class="headerlink" title="查看文件权限"></a><strong>查看文件权限</strong></h2><p>使用较长格式列出文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ls -l</span></span><br></pre></td></tr></table></figure>

<p><img src="https://doc.shiyanlou.com/document-uid735639labid3timestamp1531731455816.png/wm" alt></p>
<p>具体格式如下：<br><img src="https://doc.shiyanlou.com/linux_base/3-9.png/wm" alt></p>
<p>其中文件类型和权限长度是10，第一位表示文件的类型，其他9位每3位分别代表，所属用户、所属用户组、其他用户对文件的读、写和执行权限。具体格式如下：</p>
<p><img src="https://doc.shiyanlou.com/linux_base/3-10.png/wm" alt></p>
<p><strong>注意点:</strong><br>一个目录同时具有读权限和执行权限才可以打开并查看内部文件（比如cat命令），而一个目录要有写权限才允许在其中创建其它文件。</p>
<p><strong>ls指令总结</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>空</td>
<td>列出目前工作目录所含之文件及子目录</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>l</strong></td>
<td>除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-g</td>
<td>类似 -l,但不列出所有者</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-o</td>
<td>类似 -l,显示文件的除组信息外的详细信息。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-a</td>
<td>列出目录下的所有文件，包括以 . 开头的文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>-A</strong></td>
<td>同-a，但不列出“.”(表示当前目录)和“..”(表示当前目录的父目录)。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-F</td>
<td>使得ls命令可以在显示子目录的时候在它的文件名之后加上一个斜线(“/”)字符。而文件后面的星号(“*”)字符表示这是一个可执行程序</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-r</td>
<td>–reverse 依相反次序排列</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-i</td>
<td>显示文件或者目录的inode信息，即索引信息</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-R</td>
<td>–recursive 同时列出所有子目录层</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>-t</strong></td>
<td>以文件修改时间排序</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>-S</strong></td>
<td>根据文件大小排序</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-c</td>
<td>根据 ctime(文件状态最后更改的时间) 排序；配合 -l：显示 ctime 但根据名称排序否则：根据 ctime 排序；配合-lt:根据 ctime 排序及显示 ctime</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-u</td>
<td>配合 -lt:显示访问时间而且依访问时间排序；配合 -l:显示访问时间但根据名称排序；否则：根据访问时间排序</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-U</td>
<td>不进行排序;依文件系统原有的次序列出项目</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-v</td>
<td>根据版本进行排序</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-h</td>
<td>以容易理解的格式列出文件大小 (例如 1K 234M 2G)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>–si</td>
<td>类似 -h,但文件大小取 1000 的次方而不是 1024</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-k</td>
<td>以 k 字节的形式表示文件的大小。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-s</td>
<td>以块大小为单位列出所有文件的大小</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-m</td>
<td>所有项目以逗号分隔，并填满整行行宽</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-w</td>
<td>自行指定屏幕宽度而不使用目前的数值</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-x</td>
<td>逐行列出项目而不是逐栏列出</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-X</td>
<td>根据扩展名排序</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-1</td>
<td>每行只列出一个文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-dl &lt;目录名&gt;</td>
<td>查看某一个目录的完整属性，而不是显示目录里面的文件属性：</td>
<td></td>
<td></td>
</tr>
<tr>
<td>–version</td>
<td>显示版本信息并离开</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>## <strong>变更文件所有者</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>进入文件目录使用<strong>chown</strong>指令</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo chown shiyanlou iphone6 <span class="comment">#将iphone6的所属用户变更为实验楼</span></span></span><br></pre></td></tr></table></figure></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="修改文件权限"><a href="#修改文件权限" class="headerlink" title="修改文件权限"></a><strong>修改文件权限</strong></h2><p>如果你有一个自己的文件不想被其他用户读、写、执行，那么就需要对文件的权限做修改，这里有两种方式：</p>
<ul>
<li>方式一：二进制数字表示<br><img src="https://doc.shiyanlou.com/linux_base/3-14.png/wm" alt><br>比如数字6，其实就是110，表示可读，可写，不可执行。下面这行代码：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod 600 iphone6</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>表示 用户：可读可写不可执行 用户组：不可读不可写不可执行 其他用户：不可读不可写不可执行</p>
<ul>
<li>方式二：加减赋值操作</li>
</ul>
<p>为了完成上述相同的效果，可以：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> chmod go-rw iphone6</span></span><br></pre></td></tr></table></figure>

<p>g、o 还有 u 分别表示 group、others 和 user，+ 和 - 分别表示增加和去掉相应的权限。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/29/基本概念和操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/29/基本概念和操作/" class="post-title-link" itemprop="url">基本概念和操作</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-29 19:27:24" itemprop="dateCreated datePublished" datetime="2019-10-29T19:27:24+08:00">2019-10-29</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-30 09:16:18" itemprop="dateModified" datetime="2019-10-30T09:16:18+08:00">2019-10-30</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux基础入门/" itemprop="url" rel="index"><span itemprop="name">Linux基础入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a><strong>常用快捷键</strong></h1><table>
<thead>
<tr>
<th>按键</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Tab     补全命令，补全目录、补全命令参数</td>
<td>Tab     补全命令，补全目录、补全命令参数</td>
</tr>
<tr>
<td>Ctrl+d</td>
<td>键盘输入结束或退出终端</td>
</tr>
<tr>
<td>Ctrl+c  强行终止当前程序</td>
<td>Ctrl+c  强行终止当前程序</td>
</tr>
<tr>
<td>Ctrl+s</td>
<td>暂停当前程序，暂停后按下任意键恢复运行</td>
</tr>
<tr>
<td>Ctrl+z</td>
<td>将当前程序放到后台运行，恢复到前台为命令fg</td>
</tr>
<tr>
<td>Ctrl+a</td>
<td>将光标移至输入行头，相当于Home键</td>
</tr>
<tr>
<td>Ctrl+e</td>
<td>将光标移至输入行末，相当于End键</td>
</tr>
<tr>
<td>Ctrl+k</td>
<td>删除从光标所在位置到行末</td>
</tr>
<tr>
<td>Alt+Backspace</td>
<td>向前删除一个单词</td>
</tr>
<tr>
<td>Shift+PgUp</td>
<td>将终端显示向上滚动</td>
</tr>
<tr>
<td>Shift+PgDn</td>
<td>将终端显示向下滚动</td>
</tr>
</tbody></table>
<h1 id="本节使用的命令"><a href="#本节使用的命令" class="headerlink" title="本节使用的命令"></a><strong>本节使用的命令</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch axs.txt</span><br><span class="line">touch love&#123;1..10&#125;.txt</span><br></pre></td></tr></table></figure>

<p>后者表示创建love1.txt, love2.txt….love10.txt</p>
<p><strong>使用man命令对命令进行查询</strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/14/8086处理器的寻址方式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/14/8086处理器的寻址方式/" class="post-title-link" itemprop="url">8086处理器的寻址方式</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-14 15:26:15" itemprop="dateCreated datePublished" datetime="2019-10-14T15:26:15+08:00">2019-10-14</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-10-16 08:32:27" itemprop="dateModified" datetime="2019-10-16T08:32:27+08:00">2019-10-16</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/x86汇编/" itemprop="url" rel="index"><span itemprop="name">x86汇编</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="寄存器寻址"><a href="#寄存器寻址" class="headerlink" title="寄存器寻址"></a><strong>寄存器寻址</strong></h1><h1 id="立即寻址"><a href="#立即寻址" class="headerlink" title="立即寻址"></a><strong>立即寻址</strong></h1><h1 id="内存寻址"><a href="#内存寻址" class="headerlink" title="内存寻址"></a><strong>内存寻址</strong></h1>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/14/汇编一些标志寄存器和指令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/14/汇编一些标志寄存器和指令/" class="post-title-link" itemprop="url">汇编一些标志寄存器</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-14 14:53:27 / 修改时间：15:26:31" itemprop="dateCreated datePublished" datetime="2019-10-14T14:53:27+08:00">2019-10-14</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/x86汇编/" itemprop="url" rel="index"><span itemprop="name">x86汇编</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一些标志寄存器"><a href="#一些标志寄存器" class="headerlink" title="一些标志寄存器"></a><strong>一些标志寄存器</strong></h1><h2 id="奇偶标志位PF"><a href="#奇偶标志位PF" class="headerlink" title="奇偶标志位PF"></a><strong>奇偶标志位PF</strong></h2><p>当运算结果出来后，最低8位中如果有偶数个1的比特, <strong>PF</strong> = 1, 否则为0。</p>
<h2 id="进位标志CF"><a href="#进位标志CF" class="headerlink" title="进位标志CF"></a><strong>进位标志CF</strong></h2><p>如果最高位有向前进位或者借位的情况发生<strong>CF</strong> = 1，否则为0。</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a><strong>注意点</strong></h3><ul>
<li>inc 和 dec指令除外</li>
<li>进位标志CF对于无符号数来说通常意味着得到了错误的结果，因为溢出了，但是如果从有符号数的角度来看就不一定了，比如:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov ah, 0xff</span><br><span class="line">add ah, 2</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="溢出标志OF"><a href="#溢出标志OF" class="headerlink" title="溢出标志OF"></a><strong>溢出标志OF</strong></h2><p>在上面那个例子中，从无符号的角度看，结果溢出时错误的（257），从有符号的角度看，却是正确的（-1+2），因此OF的意思是，<strong>假定进行的是有符号数运算，如果运算结果正确，OF=0，否则OF=1。</strong></p>
<h2 id="零标志位ZF"><a href="#零标志位ZF" class="headerlink" title="零标志位ZF"></a><strong>零标志位ZF</strong></h2><p>如果计算结果是0，<strong>ZF</strong> = 1， 否则为0。</p>
<h2 id="方向标志DF"><a href="#方向标志DF" class="headerlink" title="方向标志DF"></a><strong>方向标志DF</strong></h2><p>通过将这一位清零或置为一，可以改变<strong>movsb和movsw</strong>的传送方向。</p>
<h3 id="相关指令"><a href="#相关指令" class="headerlink" title="相关指令"></a><strong>相关指令</strong></h3><ol>
<li>cld指令，将DF清零，标志传送方向是正的。</li>
<li>std指令，将DF置为一，传送方向变为负。</li>
<li>ds:si -&gt; es:di。<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2>现有指令对标志位的影响。<br><img src="http://tva1.sinaimg.cn/large/007X8olVly1g7xr350d00j30nh0bytff.jpg" alt></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/13/PAT-A1153/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/13/PAT-A1153/" class="post-title-link" itemprop="url">PAT 甲级 1153 Decode Registration Card of PAT</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-13 18:57:46 / 修改时间：19:17:16" itemprop="dateCreated datePublished" datetime="2019-10-13T18:57:46+08:00">2019-10-13</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a><strong>题目描述</strong></h1><p><img src="https://img-blog.csdnimg.cn/20181212221717167.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3JpY2hlbnl1bnFp,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a><strong>题目分析</strong></h2><p>题目的要求是针对三种情况进行排序，输出信息。<br><img src="http://tva1.sinaimg.cn/large/007X8olVly1g7ws7tfykoj30id02awgr.jpg" alt><br>这题刚开始的时候想复杂了，想用三个不同的vector存储三种情况进行输出，其实没必要，因为分析一下发现，问题一、二：遍历student可以得到结果，复杂度是O(n)，所以其实并不需要做初始化，主要是问题三，题目要求输出给定时间的考场号，和考场人数，所以定义一个map，存放考场号，遍历一遍Student将时间相等的考场号放在map里面，就可以了。</p>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a><strong>注意点</strong></h2><ul>
<li>因为在本题中使用string，所以输入时使用了cin,输出的时候一定要使用printf(“%s”,str.c_str());的形式。</li>
<li>map使用unordered_map</li>
<li>问题一、三可以合并成一个程序输出，介绍代码量</li>
<li>排序的时候使用cmp(const int&amp; a, const int&amp; b)可以减少时间。<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a><strong>代码</strong></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10010</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="built_in">string</span> id;</span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> node&amp; a, <span class="keyword">const</span> node&amp; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.score != b.score) <span class="keyword">return</span> a.score &gt; b.score;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> a.id &lt; b.id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">vector</span>&lt;node&gt; Node(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; Node[i].id &gt;&gt; Node[i].score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> type, ans1 = <span class="number">0</span>, num = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">string</span> q, id;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; mp;</span><br><span class="line">        <span class="built_in">vector</span>&lt;node&gt; ans;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; type &gt;&gt; q;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d %s\n"</span>, i, type, q.c_str());</span><br><span class="line">        <span class="comment">// sort(Node, Node + n, cmp);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (type)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(Node[j].id[<span class="number">0</span>] == q[<span class="number">0</span>]) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    ans.push_back(Node[j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) <span class="built_in">printf</span>(<span class="string">"NA\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                id = Node[j].id.substr(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">                <span class="keyword">if</span>(id == q) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    ans1 += Node[j].score;</span><br><span class="line">                    num++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag) <span class="built_in">printf</span>(<span class="string">"NA\n"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, num, ans1);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                id = Node[j].id.substr(<span class="number">4</span>, <span class="number">6</span>);</span><br><span class="line">                <span class="keyword">if</span>(id == q) &#123;</span><br><span class="line">                    mp[Node[j].id.substr(<span class="number">1</span>, <span class="number">3</span>)]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> it : mp) ans.push_back(&#123;it.first, it.second&#125;);</span><br><span class="line">            <span class="keyword">if</span>(ans.size() == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"NA\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(type != <span class="number">2</span> &amp;&amp; ans.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            sort(ans.begin(), ans.end(), cmp);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ans.size(); j++) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s %d\n"</span>, ans[j].id.c_str(), ans[j].score);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/13/计算机1s的计算量/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/13/计算机1s的计算量/" class="post-title-link" itemprop="url">计算机1s的计算量</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-13 18:54:24 / 修改时间：19:23:17" itemprop="dateCreated datePublished" datetime="2019-10-13T18:54:24+08:00">2019-10-13</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/零零散散/" itemprop="url" rel="index"><span itemprop="name">零零散散</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://img-blog.csdnimg.cn/20190211112956670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zOTc3MzY2MQ==,size_16,color_FFFFFF,t_70" alt></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://LiuPjia.github.io/2019/10/13/PAT-A1152/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="佳">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="佳的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/13/PAT-A1152/" class="post-title-link" itemprop="url">PAT 甲级 1152 Google Recruitment</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-13 18:35:22 / 修改时间：18:41:58" itemprop="dateCreated datePublished" datetime="2019-10-13T18:35:22+08:00">2019-10-13</time>
            </span>
          

          
            

            
          

          

          
            
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a><strong>题目描述</strong></h1><p>In July 2004, Google posted on a giant billboard along Highway 101 in Silicon Valley (shown in the picture below) for recruitment. The content is super-simple, a URL consisting of the first 10-digit prime found in consecutive digits of the natural constant e. The person who could find this prime number could go to the next step in Google’s hiring process by visiting this website.<br><img src="https://images.ptausercontent.com/57148679-d574-4f49-b048-775c6c07791c.jpg" alt><br>The natural constant e is a well known transcendental number（超越数）. The first several digits are: e = 2.718281828459045235360287471352662497757247093699959574966967627724076630353547594571382178525166427427466391932003059921… where the 10 digits in bold are the answer to Google’s question.</p>
<p>Now you are asked to solve a more general problem: find the first K-digit prime in consecutive digits of any given L-digit number.</p>
<h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a><strong>Input Specification:</strong></h2><p>Each input file contains one test case. Each case first gives in a line two positive integers: L (≤ 1,000) and K (&lt; 10), which are the numbers of digits of the given number and the prime to be found, respectively. Then the L-digit number N is given in the next line.</p>
<h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a><strong>Output Specification:</strong></h2><p>For each test case, print in a line the first K-digit prime in consecutive digits of N. If such a number does not exist, output <font color="red">404</font> instead. Note: the leading zeroes must also be counted as part of the K digits. For example, to find the 4-digit prime in 200236, 0023 is a solution. However the first digit 2 must not be treated as a solution 0002 since the leading zeroes are not in the original number.</p>
<h2 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1:"></a><strong>Sample Input 1:</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">20 5</span><br><span class="line">23654987725541023819</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1:"></a><strong>Sample Output 1:</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">49877</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2:"></a><strong>Sample Input 2:</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10 3</span><br><span class="line">2468024680</span><br></pre></td></tr></table></figure>

<h2 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2:"></a><strong>Sample Output 2:</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">404</span><br></pre></td></tr></table></figure>

<h2 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a><strong>题目大意</strong></h2><p>给出一个很大的字符串，找出第一个位数为n的数，不存在输出404</p>
<h2 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a><strong>题目分析</strong></h2><p>用string的substr函数与stoi函数就可以了。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a><strong>代码</strong></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= x; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">string</span> s, ans=<span class="string">"404"</span>, temp;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n - m; i++) &#123; <span class="comment">//从[n-m+1, n - 1]的长度是m - 1已经不会构成解</span></span><br><span class="line">       temp = s.substr(i, m);</span><br><span class="line">       <span class="keyword">if</span>(isPrime(stoi(temp)) == <span class="literal">true</span>) &#123;</span><br><span class="line">           ans = temp;</span><br><span class="line">           <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">佳</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">54</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">佳</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
